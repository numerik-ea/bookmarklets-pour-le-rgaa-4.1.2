<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Test 8.9 - Texte dans des balises non sémantiques avec Shadow DOM
    </title>
    <link
      rel="shortcut icon"
      href="../../assets/images/favicon.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../../assets/css/styles.css" />
  </head>
  <body class="page-test">
    <header role="banner">
      <div class="container">
        <a href="javascript:history.back()" class="back-link" id="back-link">
          <span aria-hidden="true">← </span>Retour à la page précédente
        </a>
        <h1>
          Test 8.9 - Texte dans des balises non sémantiques avec Shadow DOM
        </h1>
      </div>
    </header>

    <main role="main" class="container">
      <section class="test-page-section">
        <div class="test-info">
          <h2>Informations sur le test</h2>
          <p>
            Cette page est utilisée pour tester les bookmarklets d'accessibilité
            RGAA 4.1.2.
          </p>
          <p>
            Nom du fichier :
            8.9-test-texte-dans-balises-non-semantiques-shadow-dom.html
          </p>
          <p>
            Description du test : Cette page contient du texte dans des balises
            non sémantiques dans le DOM principal et dans des Shadow DOM pour
            tester les critères d'accessibilité RGAA 4.1.2 concernant les
            contenus textuels dans des balises non sémantiques.
          </p>
        </div>

        <div class="test-content">
          <h2>Contenu du test</h2>

          <p>Cette page contient :</p>
          <ul>
            <li>
              Du texte dans des balises non sémantiques dans le DOM principal
            </li>
            <li>
              Du texte dans des balises non sémantiques dans des Shadow DOM
            </li>
            <li>
              Du texte dans des balises sémantiques (ne doit pas être détecté)
            </li>
          </ul>

          <h3>Texte dans des balises non sémantiques dans le DOM principal</h3>

          <span>Texte dans un span</span>
          <div>Texte dans un div</div>
          <section>
            <div>Texte dans un div à l'intérieur d'une section</div>
          </section>

          <h3>Texte dans des balises sémantiques (ne doit pas être détecté)</h3>

          <p>Texte dans un paragraphe</p>
          <ul>
            <li>Texte dans une liste</li>
          </ul>
          <a href="#">Texte dans un lien</a>
          <button>Texte dans un bouton</button>
          <h2>Texte dans un titre</h2>

          <h3>Composants avec Shadow DOM</h3>
          <div id="shadow-component-1"></div>
          <div id="shadow-component-2"></div>
          <div id="shadow-component-3"></div>
          <div id="shadow-component-4"></div>
          <div id="shadow-component-nested"></div>
        </div>
      </section>
    </main>
    <footer role="contentinfo">
      <div class="container">
        <p>
          © <span id="currentYear"></span> -
          <a href="https://www.numerik-ea.fr">numerik-ea</a>
          |
          <a
            href="https://github.com/numerik-ea/bookmarklets-pour-le-rgaa-4.1.2"
          >
            Contribuer à ce site
          </a>
        </p>
      </div>
    </footer>
    <script src="../../assets/js/test-page.js"></script>
    <script>
      // Shadow DOM 1 : Contient du texte dans des balises non sémantiques
      (function () {
        const host = document.getElementById('shadow-component-1');
        const shadowRoot = host.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
                <style>
                    .shadow-container { padding: 10px; margin: 10px 0; border: 1px solid #999; }
                    h4 { margin-top: 0; }
                </style>
                <div class="shadow-container">
                    <h4>Shadow DOM 1 - Texte dans des balises non sémantiques</h4>
                    <span>Texte dans un span dans Shadow DOM</span>
                    <div>Texte dans un div dans Shadow DOM</div>
                </div>
            `;
      })();

      // Shadow DOM 2 : Contient du texte dans des balises sémantiques (ne doit pas être détecté)
      (function () {
        const host = document.getElementById('shadow-component-2');
        const shadowRoot = host.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
                <style>
                    .shadow-container { padding: 10px; margin: 10px 0; border: 1px solid #999; }
                    h4 { margin-top: 0; }
                </style>
                <div class="shadow-container">
                    <h4>Shadow DOM 2 - Texte dans des balises sémantiques</h4>
                    <p>Texte dans un paragraphe dans Shadow DOM</p>
                    <ul>
                        <li>Texte dans une liste dans Shadow DOM</li>
                    </ul>
                    <a href="#">Texte dans un lien dans Shadow DOM</a>
                </div>
            `;
      })();

      // Shadow DOM 3 : Mélange de texte dans des balises sémantiques et non sémantiques
      (function () {
        const host = document.getElementById('shadow-component-3');
        const shadowRoot = host.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
                <style>
                    .shadow-container { padding: 10px; margin: 10px 0; border: 1px solid #999; }
                    h4 { margin-top: 0; }
                    .element-wrapper { margin: 10px 0; }
                </style>
                <div class="shadow-container">
                    <h4>Shadow DOM 3 - Mélange de balises sémantiques et non sémantiques</h4>
                    <div class="element-wrapper">
                        <p>Paragraphe sémantique :</p>
                        <p>Texte dans un paragraphe</p>
                    </div>
                    <div class="element-wrapper">
                        <p>Balise non sémantique :</p>
                        <span>Texte dans un span</span>
                    </div>
                    <div class="element-wrapper">
                        <p>Autre balise non sémantique :</p>
                        <div>Texte dans un div</div>
                    </div>
                </div>
            `;
      })();

      // Shadow DOM 4 : Texte dans des balises avec role sémantique
      (function () {
        const host = document.getElementById('shadow-component-4');
        const shadowRoot = host.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
                <style>
                    .shadow-container { padding: 10px; margin: 10px 0; border: 1px solid #999; }
                    h4 { margin-top: 0; }
                    .element-wrapper { margin: 10px 0; }
                </style>
                <div class="shadow-container">
                    <h4>Shadow DOM 4 - Balises avec role sémantique</h4>
                    <div class="element-wrapper">
                        <p>Texte dans un div avec role="heading" :</p>
                        <div role="heading" aria-level="2">Texte dans un div avec role="heading"</div>
                    </div>
                    <div class="element-wrapper">
                        <p>Texte dans un div avec role="button" :</p>
                        <div role="button">Texte dans un div avec role="button"</div>
                    </div>
                    <div class="element-wrapper">
                        <p>Texte dans un div sans role (doit être détecté) :</p>
                        <div>Texte dans un div sans role</div>
                    </div>
                </div>
            `;
      })();

      // Shadow DOM imbriqué : Contient du texte dans des balises non sémantiques dans un shadow root qui contient lui-même un shadow root
      (function () {
        const host = document.getElementById('shadow-component-nested');
        const shadowRoot1 = host.attachShadow({ mode: 'open' });
        shadowRoot1.innerHTML = `
                <style>
                    .container { padding: 10px; margin: 10px 0; border: 1px solid #999; }
                    h4 { margin-top: 0; }
                </style>
                <div class="container">
                    <h4>Shadow DOM imbriqué (niveau 1) - Texte dans des balises non sémantiques</h4>
                    <span>Texte dans un span niveau 1</span>
                    <div>Texte dans un div niveau 1</div>
                    <p>Texte dans un paragraphe niveau 1</p>
                    <div id="nested-shadow-host"></div>
                </div>
            `;

        // Shadow DOM de niveau 2
        const nestedHost = shadowRoot1.querySelector('#nested-shadow-host');
        const shadowRoot2 = nestedHost.attachShadow({ mode: 'open' });
        shadowRoot2.innerHTML = `
                <style>
                    .nested-container { padding: 10px; margin: 10px 0; border: 1px solid #666; }
                    h5 { margin-top: 0; }
                </style>
                <div class="nested-container">
                    <h5>Shadow DOM imbriqué (niveau 2) - Texte dans des balises non sémantiques</h5>
                    <span>Texte dans un span niveau 2</span>
                    <div>Texte dans un div niveau 2</div>
                    <p>Texte dans un paragraphe niveau 2</p>
                </div>
            `;
      })();
    </script>
  </body>
</html>
