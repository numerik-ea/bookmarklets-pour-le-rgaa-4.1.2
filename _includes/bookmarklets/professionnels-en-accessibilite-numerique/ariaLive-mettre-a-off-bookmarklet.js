javascript:(function () { const ariaLiveElements = document.querySelectorAll('[aria-live]'); if (ariaLiveElements.length === 0) { alert('Aucune zone aria-live trouvée sur cette page.'); return; } let modifiedCount = 0; let eventListenersRemovedCount = 0; function removeEventListeners(element) { try { const newElement = element.cloneNode(true); element.parentNode.replaceChild(newElement, element); return newElement; } catch (error) { console.warn('Impossible de supprimer les event listeners pour:', element, error); return element; } } ariaLiveElements.forEach(element => { const currentValue = element.getAttribute('aria-live'); let processedElement = element; try { processedElement = removeEventListeners(element); eventListenersRemovedCount++; } catch (error) { console.warn('Erreur lors de la suppression des event listeners:', error); } if (currentValue !== 'off') { processedElement.setAttribute('aria-live', 'off'); modifiedCount++; } const originalBorder = processedElement.style.border; const originalBackgroundColor = processedElement.style.backgroundColor; processedElement.style.border = '2px solid #ff6b6b'; processedElement.style.backgroundColor = '#ffe0e0'; setTimeout(() => { processedElement.style.border = originalBorder; processedElement.style.backgroundColor = originalBackgroundColor; }, 3000); }); const totalElements = ariaLiveElements.length; const message = `Zones aria-live trouvées : ${totalElements}\nZones modifiées vers "off" : ${modifiedCount}\nZones déjà à "off" : ${totalElements - modifiedCount}\nEvent listeners supprimés : ${eventListenersRemovedCount}`; alert(message); console.log('Opération aria-live terminée:', { totalElements, modifiedCount, eventListenersRemovedCount, elements: document.querySelectorAll('[aria-live]') }); })();